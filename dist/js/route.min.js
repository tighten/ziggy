!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("route",[],t):"object"==typeof exports?exports.route=t():e.route=t()}(this,function(){return(r={},e.m=t=[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.name=e,this.ziggy=r,this.route=0==n?this.ziggy.namedRoutes[this.name]:{uri:e,methods:["GET","HEAD"],domain:null},void 0===this.name)throw new Error("Ziggy Error: You must provide a route name");if(void 0===this.route)throw new Error("Ziggy Error: route '"+this.name+"' is not found in the route list");this.absolute=void 0===t||t,this.domain=this.setDomain(),this.path=this.route.uri.replace(/^\//,"")}r.r(t);var o=(function(e,t,r){t&&n(e.prototype,t)}(i,[{key:"setDomain",value:function(){if(!this.absolute)return"/";if(!this.route.domain)return this.ziggy.baseUrl.replace(/\/?$/,"/");var e=(this.route.domain||this.ziggy.baseDomain).replace(/\/+$/,"");return this.ziggy.basePort&&e.replace(/\/+$/,"")===this.ziggy.baseDomain.replace(/\/+$/,"")&&(e=this.ziggy.baseDomain+":"+this.ziggy.basePort),this.ziggy.baseProtocol+"://"+e+"/"}},{key:"construct",value:function(){return this.domain+this.path}}]),i);r.d(t,"default",function(){return f});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,String),function(e,t,r){t&&s(e.prototype,t),r&&s(e,r)}(c,[{key:"normalizeParams",value:function(e){return void 0===e?{}:(e="object"!==(void 0===e?"undefined":u(e))?[e]:e,Object.keys(e).length<1?{}:(e.hasOwnProperty("id")&&-1==this.template.indexOf("{id}")&&(e=[e.id]),this.numericParamIndices=Array.isArray(e),a({},e)))}},{key:"with",value:function(e){return this.urlParams=this.normalizeParams(e),this}},{key:"withQuery",value:function(e){return a(this.queryParams,e),this}},{key:"hydrateUrl",value:function(){var e=this,t=this.urlParams,r=0,n=this.template.match(/{([^}]+)}/gi),i=!1;return n&&n.length!=Object.keys(t).length&&(i=!0),this.template.replace(/\/{([^}]+)}/gi,function(n,o){var a=e.trimParam(o),u=e.numericParamIndices?r:a,s=e.ziggy.defaultParameters[a];if(s&&i&&(e.numericParamIndices?(t=Object.values(t)).splice(u,0,s):t[u]=s),r++,void 0!==t[u])return delete e.queryParams[u],void 0!==t[u].id?"/"+encodeURIComponent(t[u].id):"/"+encodeURIComponent(t[u]);if(-1===n.indexOf("?"))throw new Error("Ziggy Error: '"+a+"' key is required for route '"+e.name+"'");return""})}},{key:"matchUrl",value:function(){var e=window.location.hostname+(window.location.port?":"+window.location.port:"")+window.location.pathname,t=this.template.replace(/(\/\{[^\}]*\?\})/g,"/").replace(/(\{[^\}]*\})/gi,"[^/?]+").replace(/\/?$/,"").split("://")[1],r=this.template.replace(/(\{[^\}]*\})/gi,"[^/?]+").split("://")[1],n=e.replace(/\/?$/,"/"),i=new RegExp("^"+r+"/$").test(n),o=new RegExp("^"+t+"/$").test(n);return i||o}},{key:"constructQuery",value:function(){if(0===Object.keys(this.queryParams).length)return"";var e="?";return Object.keys(this.queryParams).forEach(function(t,r){void 0!==this.queryParams[t]&&null!==this.queryParams[t]&&(e=0===r?e:e+"&",e+=t+"="+encodeURIComponent(this.queryParams[t]))}.bind(this)),e}},{key:"go",value:function(e,t){return this.name=e,this.template=new o(e,this.absolute,this.ziggy,!0).construct(),this.urlParams=this.normalizeParams(t),this.queryParams=this.normalizeParams(t),this}},{key:"current",value:function(e){var t=this,r=0<arguments.length&&void 0!==e?e:null,n=Object.keys(this.ziggy.namedRoutes).filter(function(e){return-1!==t.ziggy.namedRoutes[e].methods.indexOf("GET")&&new c(e,void 0,void 0,t.ziggy).matchUrl()})[0];return r?new RegExp(r.replace("*",".*").replace(".","."),"i").test(n):n}},{key:"extractParams",value:function(e,t,r){var n=this,i=e.split(r);return t.split(r).reduce(function(e,t,r){return 0===t.indexOf("{")&&-1!==t.indexOf("}")&&i[r]?a(e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n.trimParam(t),i[r])):e},{})}},{key:"parse",value:function(){this.return=this.hydrateUrl()+this.constructQuery()}},{key:"url",value:function(){return this.parse(),this.return}},{key:"toString",value:function(){return this.url()}},{key:"trimParam",value:function(e){return e.replace(/{|}|\?/g,"")}},{key:"valueOf",value:function(){return this.url()}},{key:"params",get:function(){var e=this.ziggy.namedRoutes[this.current()];return a(this.extractParams(window.location.hostname,e.domain||"","."),this.extractParams(window.location.pathname.slice(1),e.uri,"/"))}}]),c);function c(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return i.name=e,i.absolute=r,i.ziggy=n||Ziggy,i.template=i.name?new o(e,r,i.ziggy).construct():"",i.urlParams=i.normalizeParams(t),i.queryParams=i.normalizeParams(t),i}function f(e,t,r,n){return new l(e,t,r,n)}}],e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(e){return t[e]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0)).default;function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,r});